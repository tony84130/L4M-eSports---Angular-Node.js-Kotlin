<div class="layout">
  <header class="topbar">
    <div class="left">
      <a class="brand" routerLink="/app" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">L4M Esports</a>
      <nav class="nav">
        <a routerLink="/app" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Accueil</a>
        <a routerLink="/app/games" routerLinkActive="active">Jeux</a>
        <a routerLink="/app/events" routerLinkActive="active">Événements</a>
        <a routerLink="/app/teams" routerLinkActive="active">Équipes</a>
        <a routerLink="/app/matches" routerLinkActive="active">Matchs</a>
      </nav>
    </div>
    <div class="right">
      <button class="icon-btn" (click)="goNotifications()" [title]="isAdmin() ? 'Utilisateurs' : 'Notifications'">
        <span class="dot" *ngIf="!isAdmin() && unreadCount() > 0"></span>
        <svg *ngIf="isAdmin()" width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path fill="currentColor" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
        <svg *ngIf="!isAdmin()" width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path fill="currentColor" d="M12 22a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2Zm6-6V11a6 6 0 0 0-5-5.91V4a1 1 0 1 0-2 0v1.09A6.002 6.002 0 0 0 6 11v5l-2 2v1h16v-1l-2-2Z"/>
        </svg>
      </button>
      <button class="avatar" (click)="goProfile()" title="Profil">
        {{ avatarLetter() }}
      </button>
      <button class="ghost small" (click)="logout()" title="Se déconnecter">Déconnexion</button>
    </div>
  </header>

  <main class="content">
    <router-outlet />
  </main>

  <app-ai-help-widget />
</div>
